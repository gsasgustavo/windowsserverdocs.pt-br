---
title: Servermanagercmd
description: Artigo de referência para * * * *-
ms.topic: reference
ms.assetid: 507c4b87-8e13-4872-8b34-0c7508eecbc1
ms.author: lizross
author: eross-msft
manager: mtillman
ms.date: 07/11/2018
ms.openlocfilehash: d033959075f8ff5dd6e70035a68ea6dc2bd0ef3b
ms.sourcegitcommit: db2d46842c68813d043738d6523f13d8454fc972
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/10/2020
ms.locfileid: "89637791"
---
# <a name="servermanagercmd"></a>Servermanagercmd

> Aplica-se a: Windows Server (canal semestral), Windows Server 2019, Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

> [!IMPORTANT]
> Esse comando está disponível somente em servidores que executam o Windows Server 2008 ou o Windows Server 2008 R2. O **Servermanagercmd.exe** foi preterido e não está disponível no Windows Server 2012. Para obter informações sobre como instalar ou remover funções, serviços de função e recursos no Windows Server 2012, consulte [instalar ou desinstalar funções, serviços de função e recursos](https://go.microsoft.com/fwlink/?LinkID=239563) no Microsoft TechNet.

Instala e remove funções, serviços de função e recursos. Também exibe a lista de todas as funções, serviços de função e recursos disponíveis e mostra quais estão instalados neste computador. Para obter informações adicionais sobre as funções, serviços de função e recursos que você pode especificar usando essa ferramenta, consulte a [ajuda do Gerenciador do servidor](https://go.microsoft.com/fwlink/?LinkID=137387).

## <a name="syntax"></a>Sintaxe
```
servermanagercmd -query [[[<Drive>:]<path>]<query.xml>] [-logpath   [[<Drive>:]<path>]<log.txt>]
servermanagercmd -inputpath  [[<Drive>:]<path>]<answer.xml> [-resultpath <result.xml> [-restart] | -whatif] [-logpath [[<Drive>:]<path>]<log.txt>]
servermanagercmd -install <Id> [-allSubFeatures] [-resultpath   [[<Drive>:]<path>]<result.xml> [-restart] | -whatif] [-logpath   [[<Drive>:]<path>]<log.txt>]
servermanagercmd -remove <Id> [-resultpath    <result.xml> [-restart] | -whatif] [-logpath  [[<Drive>:]<path>]<log.txt>]
servermanagercmd [-help | -?]
servermanagercmd -version
```

### <a name="parameters"></a>Parâmetros

|                   Parâmetro                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Descrição                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  -Query [[[ \<Drive> :] \<path> ] \<*query.xml*> ]   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Exibe uma lista de todas as funções, serviços de função e recursos instalados e disponíveis para instalação no servidor. Você também pode usar a forma abreviada desse parâmetro, **-q**. Se você quiser que os resultados da consulta sejam salvos em um arquivo XML, especifique um arquivo XML para substituir *query.xml*.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| -inputPath < [[ \<Drive> :] \<path> ]*answer.xml*> |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Instala ou remove as funções, os serviços de função e os recursos especificados em um arquivo de resposta XML representado por *answer.xml*. Você também pode usar a forma abreviada desse parâmetro, **-p.**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|                -instalar \<*Id*>                | Instala a função, o serviço de função ou o recurso especificado pela *ID*. Os identificadores não diferenciam maiúsculas de minúsculas. Várias funções, serviços de função e recursos devem ser separados por espaços. Os parâmetros opcionais a seguir são usados com o parâmetro **-install** .<p>-   **-** \<*SettingName*> = configuração \<*SettingValue*>   Especifica as configurações necessárias para a instalação.<br />-   **-allSubFeatures** Especifica a instalação de todos os serviços e recursos subordinados junto com a função pai, o serviço de função ou o recurso nomeado no valor de *ID* . **Observação:**     Alguns contêineres de função não têm um identificador de linha de comando para permitir a instalação de todos os serviços de função. Esse é o caso quando os serviços de função não podem ser instalados na mesma instância do comando Gerenciador do Servidor. Por exemplo, o serviço de função Serviço de Federação dos serviços de Federação do Active Directory e o serviço de função Proxy do Serviço de Federação não podem ser instalados usando a mesma instância de comando Gerenciador do Servidor.<br />-   **-resultPath** \<*result.xml>   Salva os resultados da instalação em um arquivo XML representado por \*result.xml *. Você também pode usar a forma abreviada desse parâmetro, **-r**. **Observação:**     Não é possível executar o **ServerManagerCmd** com o parâmetro **-resultPath** e o parâmetro **-WhatIf** especificado. <br /> -    **-reiniciar** Reinicia o computador automaticamente quando a instalação é concluída (se a reinicialização for necessária para as funções ou recursos instalados). <br /> -    **-WhatIf** Exibe todas as operações especificadas para o parâmetro **-install** . Você também pode usar a forma abreviada do parâmetro **-WhatIf** , **-w**. Não é possível executar o **ServerManagerCmd** com o parâmetro **-resultPath** e o parâmetro **-WhatIf** especificado. <br /> -    **-logPath** \<[[\<Drive> :] \<path> ]* log.txt * > especifica um nome e um local para o arquivo de log, diferente do padrão, **%windir%\temp\servermanager.log**. |
|                -remover \<*Id*>                 |                                                                                                                                                                                                                                                                                                                                                                     Remove a função, o serviço de função ou o recurso especificado pela *ID*. Os identificadores não diferenciam maiúsculas de minúsculas. Várias funções, serviços de função e recursos devem ser separados por espaços. Os parâmetros opcionais a seguir são usados com o parâmetro **-Remove** .<p>-   **-resultPath** \<[[\<Drive> :] \<path> ]*result.xml*> salva os resultados da remoção em um arquivo XML representado por *result.xml*. Você também pode usar a forma abreviada desse parâmetro, **-r**. **Observação:**     Não é possível executar o **ServerManagerCmd** com o parâmetro **-resultPath** e o parâmetro **-WhatIf** especificado.<br />-   **-reiniciar** Reinicia o computador automaticamente quando a remoção é concluída (se a reinicialização for necessária para funções ou recursos restantes).<br />-   **-WhatIf** Exibe todas as operações especificadas para o parâmetro **-Remove** . Você também pode usar a forma abreviada do parâmetro **-WhatIf** , **-w**. Não é possível executar o **ServerManagerCmd** com o parâmetro **-resultPath** e o parâmetro **-WhatIf** especificado.<br />-   **-logPath** \<[[\<Drive> :] \<path> ]*log.txt*> especifica um nome e um local para o arquivo de log, diferente do padrão, **%windir%\temp\servermanager.log**.                                                                                                                                                                                                                                                                                                                                                                      |
|                     -help                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Exibe a ajuda na janela de prompt de comando. Você também pode usar a forma abreviada, **-?**.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                    -version                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Exibe o número de versão do Gerenciador do Servidor. Você também pode usar a forma abreviada, **-v**.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

## <a name="remarks"></a>Comentários
O **ServerManagerCmd** foi preterido e não há garantia de que haja suporte em versões futuras do Windows. Recomendamos que, se você estiver executando Gerenciador do Servidor em computadores que executam o Windows Server 2008 R2, use os cmdlets do Windows PowerShell que estão disponíveis para Gerenciador do Servidor. Para obter mais informações, consulte [cmdlets Gerenciador do servidor](https://go.microsoft.com/fwlink/?LinkID=137653).
O ServerManagerCmd pode ser executado de qualquer diretório nas unidades locais do servidor. Você deve ser um membro do grupo Administradores no servidor no qual deseja instalar ou remover o software.

> [!IMPORTANT]
> Devido às restrições de segurança impostas pelo controle de conta de usuário no Windows Server 2008 R2, você deve executar o **ServerManagerCmd** em uma janela de prompt de comando aberta com permissões elevadas. Para fazer isso, clique com o botão direito do mouse no executável do prompt de comando ou no objeto do **prompt de comando** no menu **Iniciar** e clique em **Executar como administrador**.

## <a name="examples"></a>Exemplos
Para mostrar como usar o **ServerManagerCmd** para exibir uma lista de todas as funções, serviços de função e recursos disponíveis e quais funções, serviços de função e recursos estão instalados no computador.
```
servermanagercmd -query
```
Para mostrar como usar o **ServerManagerCmd** para instalar a função do servidor Web (IIS) e salvar os resultados da instalação em um arquivo XML representado por *installResult.xml*.
```
servermanagercmd -install Web-Server -resultpath installResult.xml
```
Para mostrar como usar o parâmetro **WhatIf** com o **ServerManagerCmd** para exibir informações detalhadas sobre as funções, os serviços de função e os recursos que seriam instalados ou removidos, com base nas instruções especificadas em um arquivo de resposta XML representado pelo *install.xml*.
```
servermanagercmd -inputpath install.xml -whatif
```

## <a name="additional-references"></a>Referências adicionais
-   para obter uma lista completa dos identificadores de função, serviço de função ou recurso que você pode especificar para o parâmetro de *ID* ou mais informações sobre como usar um arquivo de resposta XML com o **ServerManagerCmd**, consulte a [ajuda do Gerenciador do servidor](https://go.microsoft.com/fwlink/?LinkID=137387). (https://go.microsoft.com/fwlink/?LinkID=137387).
-   Consulte [Gerenciador do servidor cmdlets](https://go.microsoft.com/fwlink/?LinkID=137653) para obter uma lista de cmdlets do Windows PowerShell que estão disponíveis para Gerenciador do servidor.
- [Chave da sintaxe de linha de comando](command-line-syntax-key.md)
